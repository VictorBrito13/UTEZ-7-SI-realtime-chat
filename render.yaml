services:
  - type: web
    name: realtime-chat-websocket
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: python server_websocket.py
    envVars:
      - key: SERVER_HOST
        value: 0.0.0.0
      - key: API_JWT_SECRET
        generateValue: true
      - key: SIGNING_SECRET
        generateValue: true
      # Configure ALLOWED_ORIGINS with your frontend domain(s)
      # Example: https://myapp.com,https://www.myapp.com
      # Use '*' only for development (NOT recommended for production)
      - key: ALLOWED_ORIGINS
        value: "*"
    # Plan configuration (free tier)
    plan: free
    # Region (optional - defaults to oregon)
    region: oregon

